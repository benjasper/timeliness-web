<div class="w-full flex flex-col" *ngIf="user">
	<div class="mb-8 text-left" *ngIf="googleCalendars.length > 0">
		<span class="text-lg text-grey-dark">Calendars indicating your availability:</span>
		<div *ngFor="let calendar of googleCalendars" class="flex flex-row">
			<input
				[id]="calendar.calendarId"
				class="mr-4 my-auto"
				type="checkbox"
				[checked]="calendar.isActive"
				(change)="calendar.isActive = !calendar.isActive; calendarsChanged()"
			/>
			<label [for]="calendar.calendarId" class="text-base text-black">{{ calendar.name }}</label>
		</div>
		<button class="mt-4 with-border" *ngIf="isCalendarsChanged" (click)="saveChanges()" [disabled]="loading">
			<span>Save changes</span>
			<svg-icon
				*ngIf="loading"
				class="ml-2 w-8 my-auto animate-spin-slow"
				src="/assets/icons/icon-loading.svg"
			></svg-icon>
		</button>
	</div>
	<button class="mr-auto" role="button" (click)="connect()">
		<ng-container *ngIf="user.googleCalendarConnection.status === CONNECTION_STATUS.Inactive">
			Connect to Google Calendar
		</ng-container>
		<ng-container *ngIf="user.googleCalendarConnection.status === CONNECTION_STATUS.Active">
			Force reconnect
		</ng-container>
		<ng-container *ngIf="user.googleCalendarConnection.status === CONNECTION_STATUS.Expired">
			Reconnect
		</ng-container>
	</button>
</div>
