<form class="flex flex-col gap-8">
	<div class="flex flex-col">
		<label class="label inset" for="timespans">Allowed Timeslots</label>
		<span class="text-grey-dark text-base ml-6 mb-4">
			Timeliness will only schedule tasks inside the following timeslots (if existent). You can also block out
			time using calendar events.
		</span>
		<div id="timespans" class="flex flex-col gap-4">
			<div *ngFor="let timespan of timespans; index as i" class="flex flex-row gap-8">
				<span class="flex flex-row gap-4">
					<app-time-select
						[(selected)]="timespan.start"
						(selectedChange)="timespanChanged()"
					></app-time-select>
					<span class="my-auto">-</span>
					<app-time-select [(selected)]="timespan.end" (selectedChange)="timespanChanged()"></app-time-select>
				</span>
				<button type="button" class="with-border tiny-button no-icon flex-shrink-0" (click)="removeEntry(i)">
					<svg-icon class="flex w-6 scale-125 !m-auto" src="/assets/icons/icon-exit.svg"></svg-icon>
				</button>
			</div>
		</div>
	</div>
	<div>
		<button type="button" class="!ml-4 !mr-auto with-border" (click)="addEntry()">
			<svg-icon class="block w-8 !my-auto scale-110" src="/assets/icons/icon-plus.svg"></svg-icon>
			<span class="ml-2 !my-auto">Add timeslot</span>
		</button>
	</div>
	<div class="flex flex-row gap-4 mr-auto" *ngIf="wasEdited && !saveOnDestroy">
		<button type="button" class="secondary !ml-4 !mr-auto" (click)="cancel()" [disabled]="!wasEdited">
			<svg-icon class="block w-6 scale-125 !my-auto" src="/assets/icons/icon-exit.svg"></svg-icon>
			<span class="ml-2">Cancel</span>
		</button>
		<button type="button" class="!ml-4 !mr-auto" (click)="save()" [disabled]="!wasEdited">
			<svg-icon class="block w-6 scale-110 !my-auto" src="/assets/icons/icon-save.svg"></svg-icon>
			<span class="ml-2">Save</span>
		</button>
	</div>
</form>
